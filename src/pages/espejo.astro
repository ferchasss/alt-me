---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import sincara from '../assets/sin cara.png';
import feliz from '../assets/feliz.png';
---

<Layout title="Espejo">
  <section class="w-full min-h-screen relative overflow-hidden bg-white flex items-center justify-center" style="background-image: url('/src/assets/illustration.png'); background-size: contain; background-position: center; background-repeat: no-repeat;">
    <div class="mirror-container" id="mirror">
      <div class="image-container">
        <Image src={sincara} alt="Mi foto" class="base-image" />
        <Image src={feliz} alt="Mi foto dormida" class="hover-image" />
      </div>
    </div>
  </section>
</Layout>

<style>
  .mirror-container {
    position: absolute;
    width: min(300px, 80vw); /* Responsive width */
    height: min(400px, 90vw); /* Responsive height */
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    top: 55%;
    left: 51%;
    transform: translate(-50%, -50%);
    cursor: pointer; /* Indicar que es clickeable */
  }

  .image-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .base-image, .hover-image {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: opacity 0.3s ease;
  }

  .hover-image {
    opacity: 0;
  }

  .image-container:hover .base-image {
    opacity: 0;
  }

  .image-container:hover .hover-image {
    opacity: 1;
  }

  /* Ajustes para dispositivos móviles */
  @media (max-width: 768px) {
    .mirror-container {
      width: 250px;
      height: 350px;
    }
  }

  /* Ajustes para dispositivos muy pequeños */
  @media (max-width: 480px) {
    .mirror-container {
      width: 200px;
      height: 300px;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const mirror = document.getElementById('mirror');
    if (mirror) {
      mirror.addEventListener('click', () => {
        window.location.href = '/decision';
      });
    }
  });
</script> 